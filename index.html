<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Χρόνια Πολλά, Αφροδίτη</title>
  <style>
    :root{
      --card:#ffffff;
      --ink:#1c1c1c;
      --muted:#5b5b5b;

      --accent:#ff4d7d;
      --accent2:#39c6a5;
      --accent3:#ffb547;

      --shadow: 0 18px 60px rgba(0,0,0,.14);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1000px 600px at 20% 10%, rgba(57,198,165,.28), transparent 60%),
        radial-gradient(900px 650px at 80% 0%, rgba(255,77,125,.25), transparent 55%),
        radial-gradient(900px 650px at 60% 95%, rgba(255,181,71,.22), transparent 55%),
        linear-gradient(180deg, #ffffff 0%, #fff7fb 55%, #f4feff 100%);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 22px 14px;
      overflow-x:hidden;
    }

    .wrap{
      width:min(980px, 100%);
      display:grid;
      gap:14px;
    }

    .header{
      display:flex;
      align-items:center;
      justify-content:flex-end;
      gap:12px;
      flex-wrap:wrap;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 999px;
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
      backdrop-filter: blur(6px);
    }
    .hint{ margin:0; color:var(--muted); font-size: 14px; }

    .stage{
      position:relative;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      background: rgba(255,255,255,.72);
      border: 1px solid rgba(0,0,0,.06);
      overflow:hidden;
    }

    canvas#confetti{
      position:absolute;
      inset:0;
      pointer-events:none;
    }

    .content{
      position:relative;
      padding: 18px;
    }

    .hero{
      display:grid;
      gap:14px;
      grid-template-columns: 1fr;
      align-items:start;
    }

    .imgBox{
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.06);
      overflow:hidden;
      background: rgba(0,0,0,.03);
      box-shadow: 0 12px 30px rgba(0,0,0,.06);
    }
    .imgBox img{
      width:100%;
      height:auto;
      display:block;
    }
    .imgPlaceholder{
      padding:16px;
      color:var(--muted);
      font-size:14px;
    }

    .panel{
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.06);
      background: rgba(255,255,255,.84);
      box-shadow: 0 12px 30px rgba(0,0,0,.06);
      padding: 14px;
      display:grid;
      gap: 12px;
      position: relative;
      overflow:hidden;
    }

    .progressRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
    }

    .bar{
      flex: 1 1 240px;
      height: 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.08);
      overflow:hidden;
      min-width: 220px;
    }
    .bar > div{
      height:100%;
      width: 0%;
      background: linear-gradient(90deg, var(--accent2), var(--accent), var(--accent3));
      transition: width .35s ease;
    }

    .counter{
      font-size: 13px;
      color: var(--muted);
      white-space: nowrap;
    }

    .sentence{
      margin:0;
      line-height: 1.5;
      font-size: 15px;
      color: var(--ink);
      min-height: 2.9em;
    }

    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .btn{
      appearance:none;
      border:0;
      border-radius: 999px;
      padding: 11px 16px;
      font-weight: 700;
      cursor:pointer;
      background: linear-gradient(90deg, var(--accent), #ff7aa0);
      color:white;
      box-shadow: 0 12px 28px rgba(255,77,125,.25);
      transition: transform .15s ease, filter .15s ease;
    }
    .btn:active{ transform: translateY(1px) scale(.99); }
    .btn.secondary{
      background: rgba(0,0,0,.06);
      color: var(--ink);
      box-shadow:none;
      border:1px solid rgba(0,0,0,.08);
      font-weight: 650;
    }

    /* Step images (replaces emojis/stickers) */
    .stepDecor{
      position:absolute;
      inset:0;
      pointer-events:none;
    }

    /* Corgi “peek” (transparent PNG works great) */
    .corgiPeek{
      position:absolute;
      right: -10px;
      bottom: -8px;
      width: 200px;
      max-width: 46%;
      opacity: 0;
      transform: translateY(16px) scale(.96);
      filter: drop-shadow(0 18px 28px rgba(0,0,0,.18));
      transition: opacity .35s ease, transform .35s ease;
    }
    .corgiPeek.show{
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Pizza photo as a “polaroid” card */
    .polaroid{
      position:absolute;
      left: 12px;
      top: 12px;
      width: 210px;
      max-width: 52%;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.08);
      border-radius: 14px;
      padding: 10px 10px 14px 10px;
      box-shadow: 0 18px 40px rgba(0,0,0,.12);
      opacity: 0;
      transform: translateY(14px) rotate(-2deg) scale(.98);
      transition: opacity .35s ease, transform .35s ease;
    }
    .polaroid.show{
      opacity: 1;
      transform: translateY(0) rotate(-2deg) scale(1);
    }
    .polaroid img{
      width:100%;
      height:auto;
      display:block;
      border-radius: 10px;
    }
    .polaroid .cap{
      margin-top: 8px;
      font-size: 12px;
      color: var(--muted);
      text-align:center;
    }

    /* Final reveal */
    .reveal{
      display:none;
      margin-top: 14px;
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.06);
      background: rgba(255,255,255,.88);
      box-shadow: 0 12px 30px rgba(0,0,0,.06);
      overflow:hidden;
    }

    .reveal.show{
      display:block;
      animation: fadeIn .55s ease;
    }
    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(10px); }
      to{ opacity:1; transform: translateY(0); }
    }

    .banner{
      padding: 14px 14px 10px 14px;
      background:
        radial-gradient(800px 260px at 20% 40%, rgba(57,198,165,.20), transparent 60%),
        radial-gradient(800px 260px at 70% 0%, rgba(255,77,125,.20), transparent 60%),
        radial-gradient(700px 240px at 70% 100%, rgba(255,181,71,.18), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.84));
      border-bottom: 1px solid rgba(0,0,0,.06);
    }

    .garland{
      width:100%;
      height: 42px;
      display:block;
    }

    .bannerText{
      margin: 8px 0 0 0;
      font-weight: 900;
      letter-spacing: -.02em;
      font-size: clamp(16px, 2.4vw, 22px);
      text-align:center;
    }

    .revealBody{
      position:relative;
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
      padding: 14px;
    }

    .finalPhoto{
      border-radius: 16px;
      border: 1px solid rgba(0,0,0,.06);
      overflow:hidden;
      background: rgba(0,0,0,.03);
      min-height: 240px;
      position:relative;
    }
    .finalPhoto img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
    }

    .decorLayer{
      position:absolute;
      inset:0;
      pointer-events:none;
    }

    .decor{
      position:absolute;
      width: 110px;
      height: 110px;
      opacity: 0;
      transform: translateY(8px) scale(.9);
      transition: opacity .35s ease, transform .35s ease;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.10));
    }
    .decor.show{
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .credit{
      margin:0;
      font-size: 12px;
      color: var(--muted);
      text-align:center;
      padding: 0 6px 10px 6px;
    }

    @media (prefers-reduced-motion: reduce){
      .bar > div, .reveal{ transition:none; animation:none; }
      .corgiPeek, .polaroid{ transition:none; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="header">
      <div class="pill">
        <p class="hint" id="status">Πάτα “Επόμενο” για να ξεκινήσει</p>
      </div>
    </div>

    <div class="stage">
      <canvas id="confetti"></canvas>

      <div class="content">
        <div class="hero">
          <div class="imgBox" aria-label="Εικόνα κάρτας">
            <!-- Αποθήκευσε την panda εικόνα ως: panda.png -->
            <img id="pandaCard" src="panda.png" alt="Birthday card"
                 onerror="this.remove(); document.getElementById('pandaMissing').style.display='block';" />
            <div class="imgPlaceholder" id="pandaMissing" style="display:none;">
              Δεν βρέθηκε η εικόνα <strong>panda.png</strong>. Βάλε την στο ίδιο folder και ονόμασέ την <strong>panda.png</strong>.
            </div>
          </div>

          <div class="panel" aria-label="Controls">
            <!-- Step-themed images -->
            <div class="stepDecor" aria-hidden="true">
              <!-- Αποθήκευσε το corgi image ως: corgi.png -->
              <img id="corgiImg" class="corgiPeek" src="corgi.png" alt="" />

              <!-- Αποθήκευσε το pizza image ως: pizza.png -->
              <div id="pizzaCard" class="polaroid">
                <img src="pizza.png" alt="" />
                <div class="cap">birthday fuel</div>
              </div>
            </div>

            <div class="progressRow">
              <div class="bar" aria-label="Progress bar"><div id="barFill"></div></div>
              <div class="counter" id="counter">0 / 3</div>
            </div>

            <p class="sentence" id="sentence">
              Πάτα “Επόμενο” για να εμφανιστεί το πρώτο μήνυμα.
            </p>

            <div class="btnRow">
              <button class="btn secondary" id="resetBtn" type="button">Επαναφορά</button>
              <button class="btn" id="nextBtn" type="button">Επόμενο</button>
            </div>

            <div class="reveal" id="reveal">
              <div class="banner">
                <svg class="garland" viewBox="0 0 900 120" preserveAspectRatio="none" aria-hidden="true">
                  <path d="M0,30 C150,90 300,90 450,30 C600,-30 750,-30 900,30"
                        fill="none" stroke="rgba(0,0,0,.12)" stroke-width="6"/>
                  <g opacity=".95">
                    <path d="M120 45 L150 95 L90 95 Z" fill="rgba(255,77,125,.85)"/>
                    <path d="M210 55 L240 105 L180 105 Z" fill="rgba(57,198,165,.85)"/>
                    <path d="M300 60 L330 110 L270 110 Z" fill="rgba(255,181,71,.85)"/>
                    <path d="M390 55 L420 105 L360 105 Z" fill="rgba(255,77,125,.78)"/>
                    <path d="M480 45 L510 95 L450 95 Z" fill="rgba(57,198,165,.78)"/>
                    <path d="M570 55 L600 105 L540 105 Z" fill="rgba(255,181,71,.78)"/>
                    <path d="M660 60 L690 110 L630 110 Z" fill="rgba(255,77,125,.78)"/>
                    <path d="M750 55 L780 105 L720 105 Z" fill="rgba(57,198,165,.78)"/>
                  </g>
                </svg>

                <p class="bannerText">Σ' αγαπάω πολύ φίλη μου❤️</p>
              </div>

              <div class="revealBody">
                <div class="finalPhoto" aria-label="Τελική φωτογραφία">
                  <!-- Βάλε τη φωτογραφία σας ως: us.jpg -->
                  <img id="usPhoto" src="us.jpg" alt="Η φωτογραφία μας"
                       onerror="this.remove(); document.getElementById('usMissing').style.display='block';" />
                  <div class="imgPlaceholder" id="usMissing" style="display:none;">
                    Δεν βρέθηκε η φωτογραφία <strong>us.jpg</strong>. Βάλε τη στο ίδιο folder και ονόμασέ τη <strong>us.jpg</strong>.
                  </div>

                  <div class="decorLayer" aria-hidden="true">
                    <svg class="decor" id="gift1" viewBox="0 0 120 120" style="left:10px; bottom:10px;">
                      <rect x="22" y="50" width="76" height="54" rx="10" fill="rgba(255,77,125,.85)" stroke="rgba(0,0,0,.10)" stroke-width="3"/>
                      <rect x="56" y="50" width="10" height="54" fill="rgba(255,255,255,.80)"/>
                      <rect x="22" y="66" width="76" height="10" fill="rgba(255,255,255,.80)"/>
                      <path d="M60 50 C45 42 42 28 56 28 C60 28 62 34 60 50Z" fill="rgba(255,255,255,.85)"/>
                      <path d="M60 50 C75 42 78 28 64 28 C60 28 58 34 60 50Z" fill="rgba(255,255,255,.85)"/>
                    </svg>

                    <svg class="decor" id="gift2" viewBox="0 0 120 120" style="right:12px; bottom:8px;">
                      <rect x="22" y="52" width="76" height="52" rx="10" fill="rgba(57,198,165,.85)" stroke="rgba(0,0,0,.10)" stroke-width="3"/>
                      <rect x="56" y="52" width="10" height="52" fill="rgba(255,255,255,.80)"/>
                      <rect x="22" y="70" width="76" height="10" fill="rgba(255,255,255,.80)"/>
                      <path d="M60 52 C46 44 44 30 56 30 C60 30 62 36 60 52Z" fill="rgba(255,255,255,.85)"/>
                      <path d="M60 52 C74 44 76 30 64 30 C60 30 58 36 60 52Z" fill="rgba(255,255,255,.85)"/>
                    </svg>

                    <svg class="decor" id="bouquet" viewBox="0 0 120 120" style="left:50%; top:8px; transform: translateX(-50%);">
                      <circle cx="42" cy="44" r="12" fill="rgba(255,77,125,.80)"/>
                      <circle cx="60" cy="34" r="12" fill="rgba(255,181,71,.80)"/>
                      <circle cx="78" cy="46" r="12" fill="rgba(57,198,165,.80)"/>
                      <circle cx="56" cy="52" r="10" fill="rgba(255,77,125,.70)"/>
                      <circle cx="70" cy="58" r="10" fill="rgba(255,181,71,.70)"/>
                      <path d="M40 64 Q60 92 80 64" fill="none" stroke="rgba(57,198,165,.60)" stroke-width="6" stroke-linecap="round"/>
                      <path d="M52 68 L60 102 L68 68" fill="none" stroke="rgba(0,0,0,.12)" stroke-width="8" stroke-linecap="round"/>
                      <path d="M44 82 L76 82" stroke="rgba(255,77,125,.55)" stroke-width="10" stroke-linecap="round"/>
                    </svg>
                  </div>
                </div>
              </div>

              <p class="credit">Αλλάζεις μόνο: panda.png, corgi.png, pizza.png, us.jpg και τα 3 μηνύματα στο JavaScript.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      // ====== EDIT THESE 3 PLACEHOLDERS LATER ======
      const messages = [
        "PLACEHOLDER ΜΗΝΥΜΑ 1 (θα το αλλάξεις εσύ)",
        "PLACEHOLDER ΜΗΝΥΜΑ 2 (θα το αλλάξεις εσύ)",
        "PLACEHOLDER ΜΗΝΥΜΑ 3 (θα το αλλάξεις εσύ)"
      ];
      // ============================================

      const status = document.getElementById('status');
      const barFill = document.getElementById('barFill');
      const counter = document.getElementById('counter');
      const sentence = document.getElementById('sentence');
      const nextBtn = document.getElementById('nextBtn');
      const resetBtn = document.getElementById('resetBtn');
      const reveal = document.getElementById('reveal');

      // Step images
      const corgiImg = document.getElementById('corgiImg');
      const pizzaCard = document.getElementById('pizzaCard');

      // Final decor
      const gift1 = document.getElementById('gift1');
      const gift2 = document.getElementById('gift2');
      const bouquet = document.getElementById('bouquet');

      let step = 0; // 0..3, where 3 triggers reveal

      function hideStepImages(){
        corgiImg.classList.remove('show');
        pizzaCard.classList.remove('show');
      }

      function showImagesForStep(s){
        hideStepImages();

        // Clean + cute:
        // Step 1: corgi peek
        // Step 2: pizza polaroid
        // Step 3: both (party vibes)
        if(s === 1){
          corgiImg.classList.add('show');
        } else if(s === 2){
          pizzaCard.classList.add('show');
        } else if(s === 3){
          corgiImg.classList.add('show');
          pizzaCard.classList.add('show');
        }
      }

      function updateUI(){
        const pct = Math.round((step / 3) * 100);
        barFill.style.width = pct + "%";
        counter.textContent = step + " / 3";

        if(step === 0){
          sentence.textContent = "Πάτα “Επόμενο” για να εμφανιστεί το πρώτο μήνυμα.";
          status.textContent = "Πάτα “Επόμενο” για να ξεκινήσει";
          reveal.classList.remove('show');
          gift1.classList.remove('show');
          gift2.classList.remove('show');
          bouquet.classList.remove('show');
          hideStepImages();
          nextBtn.textContent = "Επόμενο";
          nextBtn.disabled = false;
          return;
        }

        if(step >= 1 && step <= 3){
          sentence.textContent = messages[step - 1];
          status.textContent = "Βήμα " + step + " από 3";
          nextBtn.textContent = (step === 3) ? "Reveal" : "Επόμενο";
          showImagesForStep(step);
          burstConfetti(55);
        }
      }

      function doReveal(){
        reveal.classList.add('show');
        status.textContent = "Χρόνια πολλά";
        burstConfetti(200);

        setTimeout(() => gift1.classList.add('show'), 120);
        setTimeout(() => bouquet.classList.add('show'), 220);
        setTimeout(() => gift2.classList.add('show'), 320);

        nextBtn.disabled = true;
        nextBtn.textContent = "Τέλος";
      }

      nextBtn.addEventListener('click', () => {
        if(step < 3){
          step++;
          updateUI();
        } else {
          doReveal();
        }
      });

      resetBtn.addEventListener('click', () => {
        step = 0;
        updateUI();
      });

      // ===== Confetti (canvas) =====
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      let confetti = [];
      let raf = null;

      function resize(){
        const rect = canvas.parentElement.getBoundingClientRect();
        canvas.width = Math.floor(rect.width * devicePixelRatio);
        canvas.height = Math.floor(rect.height * devicePixelRatio);
        canvas.style.width = rect.width + 'px';
        canvas.style.height = rect.height + 'px';
        ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
      }
      window.addEventListener('resize', resize);
      resize();

      function pickColor(){
        const palette = [
          "rgba(255,77,125,0.95)",
          "rgba(57,198,165,0.95)",
          "rgba(255,181,71,0.95)",
          "rgba(0,0,0,0.45)"
        ];
        return palette[(Math.random()*palette.length)|0];
      }

      function burstConfetti(n){
        resize();
        const rect = canvas.getBoundingClientRect();
        for(let i=0;i<n;i++){
          confetti.push({
            x: rect.width * (0.10 + 0.80*Math.random()),
            y: rect.height * (0.05 + 0.25*Math.random()),
            vx: (Math.random()-0.5) * 7,
            vy: - (6 + Math.random()*6),
            g: 0.22 + Math.random()*0.12,
            w: 6 + Math.random()*8,
            h: 6 + Math.random()*10,
            r: Math.random()*Math.PI,
            vr: (Math.random()-0.5)*0.22,
            life: 0,
            max: 120 + Math.floor(Math.random()*60),
            c: pickColor()
          });
        }
        if(!raf) animate();
      }

      function animate(){
        raf = requestAnimationFrame(animate);
        const rect = canvas.getBoundingClientById ? canvas.getBoundingClientById() : canvas.getBoundingClientRect();
        ctx.clearRect(0,0,rect.width,rect.height);

        confetti = confetti.filter(p => p.life < p.max);
        for(const p of confetti){
          p.life++;
          p.vy += p.g;
          p.x += p.vx;
          p.y += p.vy;
          p.r += p.vr;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.r);
          ctx.fillStyle = p.c;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        }

        if(confetti.length === 0){
          cancelAnimationFrame(raf);
          raf = null;
        }
      }

      // Init
      updateUI();
    })();
  </script>
</body>

</html>
