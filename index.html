<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Î§ÏÏŒÎ½Î¹Î± Î Î¿Î»Î»Î¬, Î‘Ï†ÏÎ¿Î´Î¯Ï„Î·</title>
  <style>
    :root{
      --bg1:#ffe6f1;
      --bg2:#fff6d6;
      --bg3:#e9fbff;

      --card: rgba(255,255,255,.78);
      --stroke: rgba(0,0,0,.08);
      --ink:#1b1b1b;
      --muted:#5b5b5b;

      --accent:#ff4d7d;
      --accent2:#39c6a5;
      --accent3:#ffb547;

      --shadow: 0 18px 60px rgba(0,0,0,.14);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color:var(--ink);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      padding: 22px 14px;

      background:
        radial-gradient(900px 520px at 20% 10%, rgba(57,198,165,.25), transparent 60%),
        radial-gradient(900px 600px at 80% 0%, rgba(255,77,125,.22), transparent 55%),
        radial-gradient(900px 650px at 60% 95%, rgba(255,181,71,.20), transparent 55%),
        linear-gradient(180deg, var(--bg3) 0%, var(--bg1) 45%, var(--bg2) 100%);
    }

    .wrap{ width:min(980px, 100%); display:grid; gap:14px; }

    .stage{
      position:relative;
      border-radius: var(--radius);
      background: rgba(255,255,255,.55);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    canvas#confetti{
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index: 5;
    }

    .content{ position:relative; padding: 18px; z-index: 2; }

    .topRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      background: rgba(255,255,255,.78);
      border: 1px solid var(--stroke);
      border-radius: 999px;
      box-shadow: 0 10px 26px rgba(0,0,0,.06);
      backdrop-filter: blur(6px);
      color: var(--muted);
      font-size: 14px;
      margin:0;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }

    .box{
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: var(--card);
      box-shadow: 0 14px 30px rgba(0,0,0,.06);
      overflow:hidden;
    }

    .heroImg{
      width:100%;
      display:block;
      height:auto;
      background: rgba(0,0,0,.03);
    }

    .inner{ padding: 14px; display:grid; gap:12px; }

    .btn{
      appearance:none;
      border:0;
      border-radius: 999px;
      padding: 12px 16px;
      font-weight: 800;
      cursor:pointer;
      color:white;
      background: linear-gradient(90deg, var(--accent), #ff7aa0);
      box-shadow: 0 14px 32px rgba(255,77,125,.28);
      transition: transform .15s ease, filter .15s ease;
    }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .progressWrap{
      display:none;
      gap:10px;
    }
    .progressWrap.show{ display:grid; }

    .bar{
      height: 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.08);
      overflow:hidden;
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--accent2), var(--accent), var(--accent3));
      transition: width .35s ease;
    }

    .wishText{
      margin:0;
      font-size: 15px;
      line-height:1.5;
      min-height: 3em;
    }

    .stepImageBox{
      display:none;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.72);
      overflow:hidden;
      box-shadow: 0 14px 28px rgba(0,0,0,.08);
    }
    .stepImageBox.show{ display:block; animation: pop .5s cubic-bezier(.2,.9,.2,1); }

    @keyframes pop{
      0%{ transform: translateY(10px) scale(.98); opacity:0; }
      100%{ transform: translateY(0) scale(1); opacity:1; }
    }

    .stepImageBox img{
      width:100%;
      height:auto;
      display:block;
    }

    /* Final reveal */
    .reveal{
      display:none;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.86);
      overflow:hidden;
      box-shadow: 0 18px 46px rgba(0,0,0,.10);
    }
    .reveal.show{
      display:block;
      animation: revealIn .65s ease;
      position:relative;
    }
    @keyframes revealIn{
      from{ opacity:0; transform: translateY(14px) scale(.99); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    .banner{
      padding: 14px 14px 12px 14px;
      background:
        radial-gradient(800px 260px at 20% 40%, rgba(57,198,165,.22), transparent 60%),
        radial-gradient(800px 260px at 70% 0%, rgba(255,77,125,.22), transparent 60%),
        radial-gradient(700px 240px at 70% 100%, rgba(255,181,71,.20), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.84));
      border-bottom: 1px solid var(--stroke);
      text-align:center;
      position:relative;
    }

    .banner h2{
      margin: 0;
      font-size: clamp(16px, 2.4vw, 22px);
      font-weight: 900;
      letter-spacing: -.02em;
    }

    .sparkle{
      position:absolute;
      inset:-20px;
      background:
        radial-gradient(circle at 10% 30%, rgba(255,181,71,.35), transparent 35%),
        radial-gradient(circle at 85% 20%, rgba(255,77,125,.28), transparent 40%),
        radial-gradient(circle at 65% 80%, rgba(57,198,165,.28), transparent 45%);
      filter: blur(10px);
      opacity:.9;
      pointer-events:none;
    }

    .photoWrap{
      padding: 14px;
      position:relative;
    }

    .photoFrame{
      border-radius: 16px;
      overflow:hidden;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.03);
      position:relative;
      box-shadow: 0 18px 50px rgba(0,0,0,.14);
      transform: translateZ(0);
    }
    .photoFrame img{
      width:100%;
      height:auto;
      display:block;
      object-fit: cover;
    }

    /* â€œFantasmagorikoâ€ glow only (no overlay images) */
    .glowRing{
      position:absolute;
      inset:-10px;
      border-radius: 22px;
      background:
        conic-gradient(from 0deg,
          rgba(255,77,125,.0),
          rgba(255,77,125,.35),
          rgba(57,198,165,.35),
          rgba(255,181,71,.35),
          rgba(255,77,125,.35),
          rgba(255,77,125,.0));
      filter: blur(14px);
      opacity: .9;
      animation: spin 2.8s linear infinite;
      pointer-events:none;
      z-index: 0;
    }
    @keyframes spin{
      to{ transform: rotate(360deg); }
    }

    .note{
      margin:0;
      padding: 0 14px 14px 14px;
      color: var(--muted);
      font-size: 12px;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="stage">
      <canvas id="confetti"></canvas>

      <div class="content">
        <div class="topRow">
          <p class="pill">Î§ÏÏŒÎ½Î¹Î± Ï€Î¿Î»Î»Î¬ Î‘Ï†ÏÎ¿Î´Î¯Ï„Î·</p>
        </div>

        <div class="grid">
          <div class="box">
            <img class="heroImg" src="panda.png" alt="Birthday panda card"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="inner" style="display:none;">
              <p class="wishText" style="color:var(--muted);">
                Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿ <strong>panda.png</strong>. Î’Î¬Î»Îµ Ï„Î·Î½ Î±ÏÏ‡Î¹ÎºÎ® ÎµÎ¹ÎºÏŒÎ½Î± ÏƒÏ„Î¿ Î¯Î´Î¹Î¿ folder ÎºÎ±Î¹ Î¿Î½ÏŒÎ¼Î±ÏƒÎ­ Ï„Î·Î½ <strong>panda.png</strong>.
              </p>
            </div>
          </div>

          <div class="box">
            <div class="inner">
              <button class="btn" id="mainBtn" type="button">Press Î³Î¹Î± Î³ÎµÎ½ÎµÎ¸Î»Î¹Î±ÎºÎ­Ï‚ ÎµÏ…Ï‡Î­Ï‚</button>

              <div class="progressWrap" id="progressWrap">
                <div class="bar" aria-label="progress"><div id="barFill"></div></div>
              </div>

              <p class="wishText" id="wishText"></p>

              <div class="stepImageBox" id="imgStep1">
                <img src="pizza.png" alt="Pizza Î¼Îµ ÎºÎµÏÎ¬ÎºÎ¹Î±"
                     onerror="this.style.display='none'; this.parentElement.style.display='none';" />
              </div>

              <div class="stepImageBox" id="imgStep2">
                <img src="flowers.png" alt="Î‘Î½Î¸Î¿Î´Î­ÏƒÎ¼Î·"
                     onerror="this.style.display='none'; this.parentElement.style.display='none';" />
              </div>

              <div class="stepImageBox" id="imgStep3">
                <img src="corgi.png" alt="Corgi"
                     onerror="this.style.display='none'; this.parentElement.style.display='none';" />
              </div>

              <div class="reveal" id="reveal">
                <div class="banner">
                  <div class="sparkle"></div>
                  <h2>Î£' Î±Î³Î±Ï€Î¬Ï‰ Ï€Î¿Î»Ï Ï†Î¯Î»Î· Î¼Î¿Ï…â¤ï¸</h2>
                </div>

                <div class="photoWrap">
                  <div class="glowRing" aria-hidden="true"></div>

                  <div class="photoFrame">
                    <img src="us.jpg" alt="Î— Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯Î± Î¼Î±Ï‚"
                         onerror="this.style.display='none'; this.parentElement.insertAdjacentHTML('beforeend','<div style=&quot;padding:14px;color:#5b5b5b;font-size:14px;&quot;>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿ <b>us.jpg</b>. Î’Î¬Î»Îµ Ï„Î· Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯Î± ÏƒÎ±Ï‚ ÏƒÏ„Î¿ Î¯Î´Î¹Î¿ folder ÎºÎ±Î¹ Î¿Î½ÏŒÎ¼Î±ÏƒÎ­ Ï„Î· <b>us.jpg</b>.</div>');" />
                  </div>
                </div>

                <p class="note">Î‘Î»Î»Î¬Î¶ÎµÎ¹Ï‚ Î¼ÏŒÎ½Î¿ Ï„Î¹Ï‚ 3 ÎµÏ…Ï‡Î­Ï‚ ÏƒÏ„Î¿ JavaScript, ÎºÎ±Î¹ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ¹ÎºÏŒÎ½Ï‰Î½ (panda.png, pizza.png, flowers.png, corgi.png, us.jpg).</p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    (function(){
      // ====== Î‘Î›Î›Î‘Î–Î•Î™Î£ ÎœÎŸÎÎŸ Î‘Î¥Î¤Î•Î£ Î¤Î™Î£ 3 Î•Î¥Î§Î•Î£ ======
      const wishes = [
        "Î•Î¥Î§Î— 1 (placeholder) â€” Î¬Î»Î»Î±Î¾Î­ Î¼Îµ",
        "Î•Î¥Î§Î— 2 (placeholder) â€” Î¬Î»Î»Î±Î¾Î­ Î¼Îµ",
        "Î•Î¥Î§Î— 3 (placeholder) â€” Î¬Î»Î»Î±Î¾Î­ Î¼Îµ"
      ];
      // ============================================

      const mainBtn = document.getElementById('mainBtn');
      const progressWrap = document.getElementById('progressWrap');
      const barFill = document.getElementById('barFill');

      const wishText = document.getElementById('wishText');
      const reveal = document.getElementById('reveal');

      const img1 = document.getElementById('imgStep1');
      const img2 = document.getElementById('imgStep2');
      const img3 = document.getElementById('imgStep3');

      let step = 0; // 0..3 (3 = ready to reveal)

      function hideStepImages(){
        img1.classList.remove('show');
        img2.classList.remove('show');
        img3.classList.remove('show');
      }

      function setProgress(s){
        const pct = Math.round((s / 3) * 100);
        barFill.style.width = pct + "%";
      }

      function showStep(s){
        progressWrap.classList.add('show');
        hideStepImages();

        wishText.textContent = wishes[s - 1];
        setProgress(s);

        if(s === 1) img1.classList.add('show');
        if(s === 2) img2.classList.add('show');
        if(s === 3) img3.classList.add('show');

        burstConfetti(70);
      }

      function doReveal(){
        reveal.classList.add('show');
        hideStepImages();

        // â€œFantasmagorikoâ€ confetti: burst + short shower
        burstConfetti(260);
        startConfettiShower(1800);

        mainBtn.disabled = true;
        mainBtn.textContent = "ğŸ‰";
      }

      mainBtn.addEventListener('click', () => {
        if(step < 3){
          step++;
          showStep(step);
          mainBtn.textContent = (step === 3) ? "Reveal" : "Î•Ï€ÏŒÎ¼ÎµÎ½Î¿";
        } else {
          doReveal();
        }
      });

      // ===== Confetti (canvas) =====
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');

      let confetti = [];
      let raf = null;
      let showerTimer = null;

      function resize(){
        const rect = canvas.parentElement.getBoundingClientRect();
        canvas.width = Math.floor(rect.width * devicePixelRatio);
        canvas.height = Math.floor(rect.height * devicePixelRatio);
        canvas.style.width = rect.width + 'px';
        canvas.style.height = rect.height + 'px';
        ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
      }
      window.addEventListener('resize', resize);
      resize();

      function pickColor(){
        const palette = [
          "rgba(255,77,125,0.95)",
          "rgba(57,198,165,0.95)",
          "rgba(255,181,71,0.95)",
          "rgba(111,81,255,0.75)",
          "rgba(0,0,0,0.35)"
        ];
        return palette[(Math.random()*palette.length)|0];
      }

      function burstConfetti(n){
        resize();
        const rect = canvas.getBoundingClientRect();
        for(let i=0;i<n;i++){
          confetti.push({
            x: rect.width * (0.12 + 0.76*Math.random()),
            y: rect.height * (0.06 + 0.18*Math.random()),
            vx: (Math.random()-0.5) * 7,
            vy: - (6 + Math.random()*7),
            g: 0.22 + Math.random()*0.14,
            w: 5 + Math.random()*10,
            h: 5 + Math.random()*12,
            r: Math.random()*Math.PI,
            vr: (Math.random()-0.5)*0.25,
            life: 0,
            max: 120 + Math.floor(Math.random()*70),
            c: pickColor()
          });
        }
        if(!raf) animate();
      }

      function startConfettiShower(ms){
        if(showerTimer) clearInterval(showerTimer);
        const start = performance.now();
        showerTimer = setInterval(() => {
          const t = performance.now() - start;
          if(t > ms){
            clearInterval(showerTimer);
            showerTimer = null;
            return;
          }
          burstConfetti(18);
        }, 120);
      }

      function animate(){
        raf = requestAnimationFrame(animate);
        const rect = canvas.getBoundingClientRect();
        ctx.clearRect(0,0,rect.width,rect.height);

        confetti = confetti.filter(p => p.life < p.max);
        for(const p of confetti){
          p.life++;
          p.vy += p.g;
          p.x += p.vx;
          p.y += p.vy;
          p.r += p.vr;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.r);
          ctx.fillStyle = p.c;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        }

        if(confetti.length === 0){
          cancelAnimationFrame(raf);
          raf = null;
        }
      }

      // Initial state
      wishText.textContent = "";
      barFill.style.width = "0%";
    })();
  </script>
</body>
</html>
